<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Commandline - tm - a tmux manager / helper</title>


        <!-- Custom HTML head -->
        
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="section-lines.css">
        <link rel="stylesheet" href="version-commit.css">

    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">

<!-- Start extra link above the ToC -->
<!--
                &#x2192; <a class='part-title' href='https://github.com/'>GitHub</a>
                <hr/>
-->
<!-- End extra link above the ToC -->

                <ol class="chapter"><li class="chapter-item expanded affix "><a href="introduction.html">Introduction</a></li><li class="spacer"></li><li class="chapter-item expanded "><a href="commandline.html" class="active">Commandline</a></li><li class="chapter-item expanded "><a href="sessionfiles.html">Session files</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="simple.html">Simple</a></li><li class="chapter-item expanded "><a href="extended.html">Extended</a></li></ol></li></ol>

<!-- Start version-commit content below ToC -->
                <hr/>
                <div class="part-title">Version</div>
                <div id="commit" class='version-commit-div'>
                    <span class='version-commit-hash'><tt>initial-7-gcb7bbc6</tt></span><br/>
                    <span class='version-commit-time'><tt>2023-08-13 08:39:16 +0000</tt></span>
                </div>
                <div class="part-title">Generated</div>
                <div id="generated" class='version-commit-div'>
                    <span class='version-commit-now'><tt>2023-08-13 08:39:39 +0000</tt></span>
                </div>
<!-- End version-commit content below ToC -->

            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">tm - a tmux manager / helper</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/Ganneff/tmbook" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="commandline"><a class="header" href="#commandline">Commandline</a></h1>
<p>As tm started out as a small shell script, not much thought was given
to the way of calling it, it just accumulated options. That is what is
now labeled <code>traditional</code> style. Some of those, like the <code>s</code> and <code>ms</code>
sub-commands are still the most used arguments to tm - typing their
<code>getopt</code> equivalents of <code>-s</code> and <code>-m</code> is just more/less nice to type.</p>
<h2 id="common-beheaviour"><a class="header" href="#common-beheaviour">Common beheaviour</a></h2>
<p>No matter if one uses traditional or getopt style, common options like
<code>-v</code>/<code>-q</code>/<code>-h</code> as well as their long versions
<code>--verbose</code>/<code>--quiet</code>/<code>--help</code> behave the same.</p>
<h1 id="log-output"><a class="header" href="#log-output">Log output</a></h1>
<p>tm includes extensive logging. To see it, use the <code>-v</code>/<code>--verbose</code>
switch. Use it more often for more detailed output - with <em>TRACE</em>
level being the most detailed one, including tracing of function
calls and timing information for them.</p>
<p>Default is to only output error messages.</p>
<div class="table-wrapper"><table><thead><tr><th>Count of <code>-v</code></th><th>Output detail</th></tr></thead><tbody>
<tr><td></td><td>Errors only</td></tr>
<tr><td>-v</td><td>Above plus Warnings</td></tr>
<tr><td>-vv</td><td>Above plus Informational</td></tr>
<tr><td>-vvv</td><td>Above plus Debug</td></tr>
<tr><td>-vvvv</td><td>Above plus Trace</td></tr>
</tbody></table>
</div>
<p>Usually a <code>-vvv</code> is really helpful to debug new session files.</p>
<h2 id="traditional-subcommand-vs-getopt-calling-style"><a class="header" href="#traditional-subcommand-vs-getopt-calling-style">Traditional (subcommand) vs getopt calling style</a></h2>
<p>The traditional calling style (subcmmand style), some of it dating
back to the first shell script version, is easiest for some options.
Say, a <code>tm s host</code> is less to type than <code>tm -s host</code>, same for
<code>ms|-ms</code>, though that may be personal preference too. A few options
are only available using getopt style, for example the <code>-g</code> or <code>-n</code>.</p>
<h3 id="overview"><a class="header" href="#overview">Overview</a></h3>
<p>As of tm version 0.9 the following commands/options are supported,
explained in more detail below:</p>
<div class="table-wrapper"><table><thead><tr><th>Subcommand</th><th>Getopt</th><th>Intended action</th></tr></thead><tbody>
<tr><td>ls</td><td>-l</td><td>List running sessions</td></tr>
<tr><td>s</td><td>-s</td><td>Open SSH session to the destination</td></tr>
<tr><td>ms</td><td>-ms</td><td>Open multi SSH sessions to hosts, synchronizing input</td></tr>
<tr><td>k</td><td>-k</td><td>Kill a session</td></tr>
<tr><td>b</td><td>-b</td><td>Break a multi-session pane into single windows</td></tr>
<tr><td>j</td><td>-j</td><td>Join multiple windows into one single one with many panes</td></tr>
<tr><td>help</td><td>-h</td><td>Print this message or the help of the given subcommand(s)</td></tr>
<tr><td></td><td>-v[vvv]</td><td>Verbosity, the more v, the more log output</td></tr>
<tr><td></td><td>-n</td><td>Open second session to the target, do not attach to existing</td></tr>
<tr><td></td><td>-g</td><td>Group session - attach to an existing session, but keep seperate window config</td></tr>
<tr><td></td><td></td><td></td></tr>
</tbody></table>
</div>
<h4 id="ls---l"><a class="header" href="#ls---l">ls / -l</a></h4>
<p>Same as <code>tmux ls</code>, simply list the existing tmux sessions.</p>
<h4 id="s---s-hosts"><a class="header" href="#s---s-hosts">s / -s [HOSTS]</a></h4>
<p>This will open a new tmux session and create multiple windows, one per
argument - the windows will be using ssh to connect to the given
host(s). It's arguments can be anything that your SSH config will
accept, this can range from simple hostnames to user@host or whatever
possible matches you may have configured in your <em>~/.ssh/config</em> file.</p>
<p>Multiple arguments will open multiple tmux windows in the same
session.</p>
<h4 id="ms---ms-hosts"><a class="header" href="#ms---ms-hosts">ms / -ms [HOSTS]</a></h4>
<p>This will open a new tmux session and create multiple panes in the
first window, one per argument. The panes will be using ssh to connect
to the given hosts. It's arguments can be anything that your SSH
config will accept, this can range from simple hostnames to user@host
or whatever possible matches you may have configured in your
<em>~/.ssh/config</em> file.</p>
<p>When all panes are opened the tmux switch <strong>synchronize-pane</strong> will be
toggled on, so that anything input will be sent to all hosts at the
same time.</p>
<p>This subcommand will check if tmux has been able to open the pane, and
if not it will tell tmux to rearrange the layout, to &quot;gain&quot; some space
again. At the end it will select the <strong>tiled</strong> layout, so that all
panes will roughly have the same size.</p>
<h4 id="k--k-session"><a class="header" href="#k--k-session">k /-k [SESSION]</a></h4>
<p>This basically translates to <code>tmux kill-session</code> and will kill the
session with the given name.</p>
<h4 id="b--b-session"><a class="header" href="#b--b-session">b /-b [SESSION]</a></h4>
<p>This is used to <strong>break</strong> a session built using
<a href="commandline.html#ms">ms</a> or a session file (or even manually) into
seperate windows. It will take the given session name and split all
panes in the window included into seperate tmux windows.</p>
<h4 id="j---j-session"><a class="header" href="#j---j-session">j / -j [SESSION]</a></h4>
<p>This is used to <strong>join</strong> a multi-window session to one that closely
resembles one build using the <a href="commandline.html#ms">ms</a> command. It will
take the given session name and join all windows to the first window,
as such making them panes of the first window. Afterwards it will
toggle the <strong>synchronize-pane</strong> option of that window on, so any input
will be send to all panes.</p>
<h4 id="-n"><a class="header" href="#-n">-n</a></h4>
<p>This is only valid as an addition to <code>s/-s</code> / <code>ms/-ms</code> and will
ensure, that a new session will be opened, even if the arguments
passed would otherwise reopen an already existing session. That way
one can have multiple, independent, sessions open to the same set of
arguments.</p>
<p>Example:</p>
<pre><code class="language-bash">tm s host1 host2
tm -n s host1 host2
</code></pre>
<p>This will open two sessions to host1 and host2, in two different tmux
sessions, with the second session having a random string added to the
session name. A <code>tm ls</code> will look similar to the following:</p>
<pre><code>s_29814_host1_host2: 1 windows (created ...)
s_host1_host2: 1 windows (created ...)
</code></pre>
<h4 id="-g"><a class="header" href="#-g">-g</a></h4>
<p>This is only valid as an addition to <code>s/-s</code> / <code>ms/-ms</code> and will
attach to an existing session - but with a seperate window config -
tmux calls this a session group. Citation from tmux manpage about it:</p>
<pre><code>[...] a session group. Sessions in the same group share the same
set of windows - new windows are linked to all sessions in the group
and any windows closed removed from all sessions. The current and
previous window and any session options remain independent and any
session in a group may be killed without affecting the others. The
group-name argument may be:
</code></pre>
<p>So in effect one has the same session with the same windows and panes
open, but one can display and use different windows at the same time.</p>


<!-- Start version-commit content below every page -->
                        <hr/>
                        <div class="version-commit-div" style="float: right">
                            Generated
                            <span class='version-commit-now'><tt>2023-08-13 08:39:39 +0000</tt></span>
                        </div>
                        <div class="version-commit-div">
                            <span class='version-commit-hash'><tt>initial-7-gcb7bbc6</tt></span>
                            <span class='version-commit-time'><tt>2023-08-13 08:39:16 +0000</tt></span>
                        </div>
<!-- End version-commit content below every page -->

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="introduction.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="sessionfiles.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="introduction.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="sessionfiles.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script type="text/javascript">
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->


    </body>
</html>
