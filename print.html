<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>tm - a tmux manager / helper</title>
        <meta name="robots" content="noindex" />


        <!-- Custom HTML head -->
        
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="section-lines.css">
        <link rel="stylesheet" href="version-commit.css">

    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">

<!-- Start extra link above the ToC -->
<!--
                &#x2192; <a class='part-title' href='https://github.com/'>GitHub</a>
                <hr/>
-->
<!-- End extra link above the ToC -->

                <ol class="chapter"><li class="chapter-item expanded affix "><a href="introduction.html">Introduction</a></li><li class="spacer"></li><li class="chapter-item expanded "><a href="commandline.html">Commandline</a></li><li class="chapter-item expanded "><div>Session files</div></li><li><ol class="section"><li class="chapter-item expanded "><div>Simple</div></li><li class="chapter-item expanded "><div>Extended</div></li></ol></li></ol>

<!-- Start version-commit content below ToC -->
                <hr/>
                <div class="part-title">Version</div>
                <div id="commit" class='version-commit-div'>
                    <span class='version-commit-hash'><tt>initial-6-g63ffcb6</tt></span><br/>
                    <span class='version-commit-time'><tt>2023-08-06 07:33:26 +0000</tt></span>
                </div>
                <div class="part-title">Generated</div>
                <div id="generated" class='version-commit-div'>
                    <span class='version-commit-now'><tt>2023-08-06 07:33:41 +0000</tt></span>
                </div>
<!-- End version-commit content below ToC -->

            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">tm - a tmux manager / helper</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/Ganneff/tmbook" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="introduction"><a class="header" href="#introduction">Introduction</a></h1>
<p>tm is a small helper/wrapper for tmux. It aims at making the creation
and resume of sessions easier wile trying to stay out of the users
way.</p>
<h1 id="history"><a class="header" href="#history">History</a></h1>
<p>tm started as a bash shell script to ease my day-to-day work with
<a href="https://github.com/tmux/tmux">tmux</a>. While tmux itself is easy to
work with (creating new sessions is simple) for simple tasks, it takes
considerably more brain power to setup a session that opens
connections to multiple hosts and sets tmux up in the way, that input
is send to all of them at the same time.</p>
<p>And this being a task I need a <em>lot</em> of times every day, I do not want
to do this manually, so tm was born. Back in 2010/2011 when I started
working on it, there wasn't any (to me) useful tool I could have
taken instead.</p>
<h2 id="rust"><a class="header" href="#rust">Rust</a></h2>
<p>At some point in time I switched over from Shell to Rust, which
brought a <strong>huge</strong> speed boost for tm. While the shell version always
worked good enough and for most sessions one builds also fast enough,
having a compiled binary <em>still</em> makes a difference. It is especially
noticable on the sessions that open dozens (or even hundreds) of
windows/panes.</p>
<h1 id="commandline"><a class="header" href="#commandline">Commandline</a></h1>
<p>tm offers simple ways to start new sessions using commandline, where
it supports two styles of options - so-called <code>traditional</code> and
<code>getopt</code> style. They are mostly identica, though some options only
work in one and not the other way.</p>
<h1 id="config-files"><a class="header" href="#config-files">Config files</a></h1>
<p>tm also offers different types of config files (called session files).
From simple list of hostnames to files that ca include others to files
that basically contain tmux commands to execute.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="commandline-1"><a class="header" href="#commandline-1">Commandline</a></h1>
<p>As tm started out as a small shell script, not much thought was given
to the way of calling it, it just accumulated options. That is what is
now labeled <code>traditional</code> style. Some of those, like the <code>s</code> and <code>ms</code>
sub-commands are still the most used arguments to tm - typing their
<code>getopt</code> equivalents of <code>-s</code> and <code>-m</code> is just more/less nice to type.</p>
<h2 id="common-beheaviour"><a class="header" href="#common-beheaviour">Common beheaviour</a></h2>
<p>No matter if one uses traditional or getopt style, common options like
<code>-v</code>/<code>-q</code>/<code>-h</code> as well as their long versions
<code>--verbose</code>/<code>--quiet</code>/<code>--help</code> behave the same.</p>
<h1 id="log-output"><a class="header" href="#log-output">Log output</a></h1>
<p>tm includes extensive logging. To see it, use the <code>-v</code>/<code>--verbose</code>
switch. Use it more often for more detailed output - with <em>TRACE</em>
level being the most detailed one, including tracing of function
calls and timing information for them.</p>
<p>Default is to only output error messages.</p>
<div class="table-wrapper"><table><thead><tr><th>Count of <code>-v</code></th><th>Output detail</th></tr></thead><tbody>
<tr><td></td><td>Errors only</td></tr>
<tr><td>-v</td><td>Above plus Warnings</td></tr>
<tr><td>-vv</td><td>Above plus Informational</td></tr>
<tr><td>-vvv</td><td>Above plus Debug</td></tr>
<tr><td>-vvvv</td><td>Above plus Trace</td></tr>
</tbody></table>
</div>
<p>Usually a <code>-vvv</code> is really helpful to debug new session files.</p>
<h2 id="traditional"><a class="header" href="#traditional">Traditional</a></h2>
<p>The traditional calling style, some of it dating back to the first
shell script version, is easiest for some options.</p>
<h3 id="overview"><a class="header" href="#overview">Overview</a></h3>
<p>As of tm version 0.9 the following commands are supported using the
<code>traditional</code> style of calling tm:</p>
<div class="table-wrapper"><table><thead><tr><th>Command</th><th>Intended action</th></tr></thead><tbody>
<tr><td>ls</td><td>List running sessions</td></tr>
<tr><td>s</td><td>Open SSH session to the destination</td></tr>
<tr><td>ms</td><td>Open multi SSH sessions to hosts, synchronizing input</td></tr>
<tr><td>k</td><td>Kill a session</td></tr>
<tr><td>b</td><td>Break a multi-session pane into single windows</td></tr>
<tr><td>j</td><td>Join multiple windows into one single one with many panes</td></tr>
<tr><td>help</td><td>Print this message or the help of the given subcommand(s)</td></tr>
</tbody></table>
</div>
<h4 id="ls"><a class="header" href="#ls">ls</a></h4>
<p>Same as <code>tmux ls</code>, simply list the existing tmux sessions.</p>
<h4 id="s-hosts"><a class="header" href="#s-hosts">s [HOSTS]</a></h4>
<p>This will open a new tmux session and create multiple windows, one per
argument - the windows will be using ssh to connect to the given
host(s). It's arguments can be anything that your SSH config will
accept, this can range from simple hostnames to user@host or whatever
possible matches you may have configured in your <em>~/.ssh/config</em> file.</p>
<p>Multiple arguments will open multiple tmux windows in the same
session.</p>
<h4 id="ms-hosts"><a class="header" href="#ms-hosts">ms [HOSTS]</a></h4>
<p>This will open a new tmux session and create multiple panes in the
first window, one per argument. The panes will be using ssh to connect
to the given hosts. It's arguments can be anything that your SSH
config will accept, this can range from simple hostnames to user@host
or whatever possible matches you may have configured in your
<em>~/.ssh/config</em> file.</p>
<p>When all panes are opened the tmux switch <strong>synchronize-pane</strong> will be
toggled on, so that anything input will be sent to all hosts at the
same time.</p>
<p>This subcommand will check if tmux has been able to open the pane, and
if not it will tell tmux to rearrange the layout, to &quot;gain&quot; some space
again. At the end it will select the <strong>tiled</strong> layout, so that all
panes will roughly have the same size.</p>
<h4 id="k-session"><a class="header" href="#k-session">k [SESSION]</a></h4>
<p>This basically translates to <code>tmux kill-session</code> and will kill the
session with the given name.</p>
<h4 id="b-session"><a class="header" href="#b-session">b [SESSION]</a></h4>
<p>This is used to <strong>break</strong> a session built using
<a href="commandline.html#ms">ms</a> or a session file (or even manually) into
seperate windows. It will take the given session name and split all
panes in the window included into seperate tmux windows.</p>
<h4 id="j-session"><a class="header" href="#j-session">j [SESSION]</a></h4>
<p>This is used to <strong>join</strong> a multi-window session to one that closely
resembles one build using the <a href="commandline.html#ms">ms</a> command. It will
take the given session name and join all windows to the first window,
as such making them panes of the first window. Afterwards it will
toggle the <strong>synchronize-pane</strong> option of that window on, so any input
will be send to all panes.</p>


<!-- Start version-commit content below every page -->
                        <hr/>
                        <div class="version-commit-div" style="float: right">
                            Generated
                            <span class='version-commit-now'><tt>2023-08-06 07:33:41 +0000</tt></span>
                        </div>
                        <div class="version-commit-div">
                            <span class='version-commit-hash'><tt>initial-6-g63ffcb6</tt></span>
                            <span class='version-commit-time'><tt>2023-08-06 07:33:26 +0000</tt></span>
                        </div>
<!-- End version-commit content below every page -->

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>




        <script type="text/javascript">
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->

        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </body>
</html>
